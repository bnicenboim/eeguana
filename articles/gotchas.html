<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pitfalls and gotchas • eeguana</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Pitfalls and gotchas">
<meta property="og:description" content="eeguana">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script>if(!sessionStorage.getItem("_swa")&&document.referrer.indexOf(location.protocol+"//"+location.host)!== 0){fetch("https://counter.dev/track?"+new URLSearchParams({referrer:document.referrer,screen:screen.width+"x"+screen.height,user:"bnicenboim",utcoffset:"1"}))};sessionStorage.setItem("_swa","1");</script>
</head>
<body>
<p>,<script data-goatcounter="https://bnicenboim.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script></p>
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">eeguana</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.8.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/intro.html">Introduction - Preprocessing and visualization of EEG data</a>
    </li>
    <li>
      <a href="../articles/preprocessing_erp.html">Another example from a Fieldtrip tutorial: Preprocessing of EEG data and computing ERPs</a>
    </li>
    <li>
      <a href="../articles/gotchas.html">Pitfalls and gotchas</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/bnicenboim/eeguana" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="gotchas_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Pitfalls and gotchas</h1>
                        <h4 data-toc-skip class="author">Bruno Nicenboim</h4>
            
            <h4 data-toc-skip class="date">2022-10-10</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/bnicenboim/eeguana/blob/HEAD/vignettes/gotchas.Rmd" class="external-link"><code>vignettes/gotchas.Rmd</code></a></small>
      <div class="hidden name"><code>gotchas.Rmd</code></div>

    </div>

    
    
<p>I address some potential sources of confusion here. To run this examples, we first load eeguana and dplyr:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/bnicenboim/eeguana" class="external-link">eeguana</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="tidyverse-dplyr-like-functions">Tidyverse dplyr-like functions<a class="anchor" aria-label="anchor" href="#tidyverse-dplyr-like-functions"></a>
</h2>
<p>The package {eeguana} allows for functions that <em>look</em> like {dplyr} functions but they truly are powered by {tidy.table} and {data.table}. This means that there are subtle differences between dplyr’s behavior and eeguana dplyr-like function behavior.</p>
<div class="section level3">
<h3 id="default-values">Default values<a class="anchor" aria-label="anchor" href="#default-values"></a>
</h3>
<p>The default values of the arguments might be different, and some arguments might not exist for the eeguana dplyr-like functions.</p>
</div>
<div class="section level3">
<h3 id="referring-back-to-recently-created-channels">Referring back to recently created channels<a class="anchor" aria-label="anchor" href="#referring-back-to-recently-created-channels"></a>
</h3>
<p>Unlike dplyr’s mutate, {eeguana}’s [mutate] doesn’t allow to refer back to a recently created channel:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_data</span> <span class="op">&lt;-</span> <span class="va">data_faces_ERPs</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/dplyr_verbs.html">eeg_mutate</a></span><span class="op">(</span>X <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/scale.html" class="external-link">scale</a></span><span class="op">(</span><span class="va">C3</span><span class="op">)</span>, Y <span class="op">=</span> <span class="va">X</span> <span class="op">*</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(jsub, SDenv, parent.frame()): object 'X' not found</span></span></code></pre></div>
<p>A workaround is to use two mutates:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_data</span> <span class="op">&lt;-</span> <span class="va">data_faces_ERPs</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>X <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/scale.html" class="external-link">scale</a></span><span class="op">(</span><span class="va">C3</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>Y <span class="op">=</span> <span class="va">X</span> <span class="op">*</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p>Dplyr-like functions not only edit the eeg_lst objects but they also do book-keeping: They remove unnecessary channels, or update their information and they ensure that three tables (signal, segments, and events) match. It’s then not recommended to edit the signal and segments table directly.</p>
<p>Compare the correct way to filter out samples:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_data</span> <span class="op">&lt;-</span> <span class="va">data_faces_10_trials</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/dplyr_verbs.html">eeg_filter</a></span><span class="op">(</span><span class="va">.sample</span> <span class="op">&lt;</span> <span class="fl">20000</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/events_tbl.html">events_tbl</a></span><span class="op">(</span><span class="va">new_data</span><span class="op">)</span></span>
<span><span class="co">#&gt;     .id        .type .description .initial .final .channel</span></span>
<span><span class="co">#&gt;  1:   1 Bad Interval  Bad Min-Max    15000  15128      FC6</span></span>
<span><span class="co">#&gt;  2:   1 Bad Interval  Bad Min-Max    15000  15146       F8</span></span>
<span><span class="co">#&gt;  3:   1 Bad Interval  Bad Min-Max    15000  15142      Fp1</span></span>
<span><span class="co">#&gt;  4:   1 Bad Interval  Bad Min-Max    15000  15132      Fp2</span></span>
<span><span class="co">#&gt;  5:   1 Bad Interval  Bad Min-Max    15000  15140      Fpz</span></span>
<span><span class="co">#&gt;  6:   1 Bad Interval  Bad Min-Max    15000  15114       F7</span></span>
<span><span class="co">#&gt;  7:   1 Bad Interval  Bad Min-Max    15000  15091      FC5</span></span>
<span><span class="co">#&gt;  8:   1 Bad Interval  Bad Min-Max    15000  15103       Fz</span></span>
<span><span class="co">#&gt;  9:   1 Bad Interval  Bad Min-Max    15000  15103       F4</span></span>
<span><span class="co">#&gt; 10:   1 Bad Interval  Bad Min-Max    15000  15093       F3</span></span>
<span><span class="co">#&gt; 11:   1 Bad Interval  Bad Min-Max    15276  15905       F8</span></span>
<span><span class="co">#&gt; 12:   1 Bad Interval  Bad Min-Max    15276  15556       F7</span></span>
<span><span class="co">#&gt; 13:   1 Bad Interval  Bad Min-Max    15551  15956      Fp1</span></span>
<span><span class="co">#&gt; 14:   1 Bad Interval  Bad Min-Max    15552  15941      Fp2</span></span>
<span><span class="co">#&gt; 15:   1 Bad Interval  Bad Min-Max    15552  15946      Fpz</span></span>
<span><span class="co">#&gt; 16:   1 Bad Interval  Bad Min-Max    15569  15910       Fz</span></span>
<span><span class="co">#&gt; 17:   1 Bad Interval  Bad Min-Max    15569  15904       F4</span></span>
<span><span class="co">#&gt; 18:   1 Bad Interval  Bad Min-Max    15571  15907       F3</span></span>
<span><span class="co">#&gt; 19:   1 Bad Interval  Bad Min-Max    15575  15885       F7</span></span>
<span><span class="co">#&gt; 20:   1     Stimulus           s5    15767  15767     &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 21:   1 Bad Interval  Bad Min-Max    16344  16816       F8</span></span>
<span><span class="co">#&gt; 22:   1 Bad Interval  Bad Min-Max    16345  16630      Fp2</span></span>
<span><span class="co">#&gt; 23:   1 Bad Interval  Bad Min-Max    16347  16628      Fpz</span></span>
<span><span class="co">#&gt; 24:   1 Bad Interval  Bad Min-Max    16370  16806       F7</span></span>
<span><span class="co">#&gt; 25:   1     Stimulus         s101    17162  17162     &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 26:   1 Bad Interval  Bad Min-Max    17440  18030      Fp1</span></span>
<span><span class="co">#&gt; 27:   1 Bad Interval  Bad Min-Max    17525  18009      Fp2</span></span>
<span><span class="co">#&gt; 28:   1 Bad Interval  Bad Min-Max    17525  18028      Fpz</span></span>
<span><span class="co">#&gt; 29:   1 Bad Interval  Bad Min-Max    17531  17898       F8</span></span>
<span><span class="co">#&gt; 30:   1 Bad Interval  Bad Min-Max    17533  17875       Fz</span></span>
<span><span class="co">#&gt; 31:   1 Bad Interval  Bad Min-Max    17534  17863       F3</span></span>
<span><span class="co">#&gt; 32:   1 Bad Interval  Bad Min-Max    17535  17877       F4</span></span>
<span><span class="co">#&gt; 33:   1 Bad Interval  Bad Min-Max    17545  17861      FC6</span></span>
<span><span class="co">#&gt; 34:   1 Bad Interval  Bad Min-Max    17548  17766      FC2</span></span>
<span><span class="co">#&gt; 35:   1 Bad Interval  Bad Min-Max    17553  17766      FC1</span></span>
<span><span class="co">#&gt; 36:   1 Bad Interval  Bad Min-Max    17559  17763       F7</span></span>
<span><span class="co">#&gt; 37:   1 Bad Interval  Bad Min-Max    18084  18609      Fp1</span></span>
<span><span class="co">#&gt; 38:   1 Bad Interval  Bad Min-Max    18085  18541      Fpz</span></span>
<span><span class="co">#&gt; 39:   1 Bad Interval  Bad Min-Max    18086  18541      Fp2</span></span>
<span><span class="co">#&gt; 40:   1 Bad Interval  Bad Min-Max    18092  18524       F7</span></span>
<span><span class="co">#&gt; 41:   1 Bad Interval  Bad Min-Max    18093  18424       F8</span></span>
<span><span class="co">#&gt; 42:   1 Bad Interval  Bad Min-Max    18093  18425       Fz</span></span>
<span><span class="co">#&gt; 43:   1 Bad Interval  Bad Min-Max    18094  18430       F3</span></span>
<span><span class="co">#&gt; 44:   1 Bad Interval  Bad Min-Max    18094  18420       F4</span></span>
<span><span class="co">#&gt; 45:   1 Bad Interval  Bad Min-Max    18110  18372      FC2</span></span>
<span><span class="co">#&gt; 46:   1 Bad Interval  Bad Min-Max    18821  19377      Fp1</span></span>
<span><span class="co">#&gt; 47:   1 Bad Interval  Bad Min-Max    18822  19358      Fpz</span></span>
<span><span class="co">#&gt; 48:   1 Bad Interval  Bad Min-Max    18822  19356      Fp2</span></span>
<span><span class="co">#&gt; 49:   1 Bad Interval  Bad Min-Max    18830  19172       F8</span></span>
<span><span class="co">#&gt; 50:   1 Bad Interval  Bad Min-Max    18834  19163       Fz</span></span>
<span><span class="co">#&gt; 51:   1 Bad Interval  Bad Min-Max    18835  19110       F3</span></span>
<span><span class="co">#&gt; 52:   1 Bad Interval  Bad Min-Max    18835  19158       F4</span></span>
<span><span class="co">#&gt; 53:   1 Bad Interval  Bad Min-Max    18840  19014       F7</span></span>
<span><span class="co">#&gt; 54:   1 Bad Interval  Bad Min-Max    18845  19086      FC6</span></span>
<span><span class="co">#&gt; 55:   1 Bad Interval  Bad Min-Max    18849  19081      FC2</span></span>
<span><span class="co">#&gt; 56:   1 Bad Interval  Bad Min-Max    19074  19357       F7</span></span>
<span><span class="co">#&gt; 57:   1 Bad Interval  Bad Min-Max    19464  19849      Fp1</span></span>
<span><span class="co">#&gt; 58:   1 Bad Interval  Bad Min-Max    19467  19826      Fp2</span></span>
<span><span class="co">#&gt; 59:   1 Bad Interval  Bad Min-Max    19467  19999      Fpz</span></span>
<span><span class="co">#&gt; 60:   1 Bad Interval  Bad Min-Max    19471  19807       F7</span></span>
<span><span class="co">#&gt; 61:   1 Bad Interval  Bad Min-Max    19475  19794       F8</span></span>
<span><span class="co">#&gt; 62:   1 Bad Interval  Bad Min-Max    19475  19799       F3</span></span>
<span><span class="co">#&gt; 63:   1 Bad Interval  Bad Min-Max    19477  19798       Fz</span></span>
<span><span class="co">#&gt; 64:   1 Bad Interval  Bad Min-Max    19479  19791       F4</span></span>
<span><span class="co">#&gt;     .id        .type .description .initial .final .channel</span></span></code></pre></div>
<p>with the <em>non-recommended</em> version:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_data_BAD</span> <span class="op">&lt;-</span> <span class="va">data_faces_10_trials</span></span>
<span><span class="va">new_data_BAD</span><span class="op">$</span><span class="va">.signal</span> <span class="op">&lt;-</span> <span class="va">new_data_BAD</span><span class="op">$</span><span class="va">.signal</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">.sample</span> <span class="op">&lt;</span> <span class="fl">20000</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/events_tbl.html">events_tbl</a></span><span class="op">(</span><span class="va">new_data_BAD</span><span class="op">)</span></span>
<span><span class="co">#&gt;      .id        .type .description .initial .final .channel</span></span>
<span><span class="co">#&gt;   1:   1 Bad Interval  Bad Min-Max    15000  15128      FC6</span></span>
<span><span class="co">#&gt;   2:   1 Bad Interval  Bad Min-Max    15000  15146       F8</span></span>
<span><span class="co">#&gt;   3:   1 Bad Interval  Bad Min-Max    15000  15142      Fp1</span></span>
<span><span class="co">#&gt;   4:   1 Bad Interval  Bad Min-Max    15000  15132      Fp2</span></span>
<span><span class="co">#&gt;   5:   1 Bad Interval  Bad Min-Max    15000  15140      Fpz</span></span>
<span><span class="co">#&gt;  ---                                                       </span></span>
<span><span class="co">#&gt; 540:   1 Bad Interval  Bad Min-Max    55058  55400      Fpz</span></span>
<span><span class="co">#&gt; 541:   1 Bad Interval  Bad Min-Max    55077  55314       F8</span></span>
<span><span class="co">#&gt; 542:   1     Stimulus         s130    56380  56380     &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 543:   1     Stimulus          s70    56750  56750     &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 544:   1     Stimulus         s130    58328  58328     &lt;NA&gt;</span></span></code></pre></div>
<p>In some occasions, the events or the channels tables need to be edited. In those cases, one can use <code>events_tbl(data_eeg) &lt;- ...</code> or <code>channels_tbl(data_eeg) &lt;- ...</code>).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/channels_tbl.html">channels_tbl</a></span><span class="op">(</span><span class="va">data_faces_10_trials</span><span class="op">)</span></span>
<span><span class="co">#&gt;     .channel radius theta phi    .x    .y   .z</span></span>
<span><span class="co">#&gt;  1:      Fp1      1   -90 -72 -0.31  0.95 0.00</span></span>
<span><span class="co">#&gt;  2:      Fpz      1    90  90  0.00  1.00 0.00</span></span>
<span><span class="co">#&gt;  3:      Fp2      1    90  72  0.31  0.95 0.00</span></span>
<span><span class="co">#&gt;  4:       F7      1   -90 -36 -0.81  0.59 0.00</span></span>
<span><span class="co">#&gt;  5:       F3      1   -60 -51 -0.55  0.67 0.50</span></span>
<span><span class="co">#&gt;  6:       Fz      1    45  90  0.00  0.71 0.71</span></span>
<span><span class="co">#&gt;  7:       F4      1    60  51  0.55  0.67 0.50</span></span>
<span><span class="co">#&gt;  8:       F8      1    90  36  0.81  0.59 0.00</span></span>
<span><span class="co">#&gt;  9:      FC5      1   -69 -21 -0.87  0.33 0.36</span></span>
<span><span class="co">#&gt; 10:      FC1      1   -31 -46 -0.36  0.37 0.86</span></span>
<span><span class="co">#&gt; 11:      FC2      1    31  46  0.36  0.37 0.86</span></span>
<span><span class="co">#&gt; 12:      FC6      1    69  21  0.87  0.33 0.36</span></span>
<span><span class="co">#&gt; 13:       M1      0     0   0    NA    NA   NA</span></span>
<span><span class="co">#&gt; 14:       T7      1   -90   0 -1.00  0.00 0.00</span></span>
<span><span class="co">#&gt; 15:       C3      1   -45   0 -0.71  0.00 0.71</span></span>
<span><span class="co">#&gt; 16:       Cz      1     0   0  0.00  0.00 1.00</span></span>
<span><span class="co">#&gt; 17:       C4      1    45   0  0.71  0.00 0.71</span></span>
<span><span class="co">#&gt; 18:       T8      1    90   0  1.00  0.00 0.00</span></span>
<span><span class="co">#&gt; 19:       M2      0     0   0    NA    NA   NA</span></span>
<span><span class="co">#&gt; 20:      CP5      1   -69  21 -0.87 -0.33 0.36</span></span>
<span><span class="co">#&gt; 21:      CP1      1   -31  46 -0.36 -0.37 0.86</span></span>
<span><span class="co">#&gt; 22:      CP2      1    31 -46  0.36 -0.37 0.86</span></span>
<span><span class="co">#&gt; 23:      CP6      1    69 -21  0.87 -0.33 0.36</span></span>
<span><span class="co">#&gt; 24:       P7      1   -90  36 -0.81 -0.59 0.00</span></span>
<span><span class="co">#&gt; 25:       P3      1   -60  51 -0.55 -0.67 0.50</span></span>
<span><span class="co">#&gt; 26:       Pz      1    45 -90  0.00 -0.71 0.71</span></span>
<span><span class="co">#&gt; 27:       P4      1    60 -51  0.55 -0.67 0.50</span></span>
<span><span class="co">#&gt; 28:       P8      1    90 -36  0.81 -0.59 0.00</span></span>
<span><span class="co">#&gt; 29:      POz      1    67 -90  0.00 -0.92 0.39</span></span>
<span><span class="co">#&gt; 30:       O1      1   -90  72 -0.31 -0.95 0.00</span></span>
<span><span class="co">#&gt; 31:       Oz      1    90 -90  0.00 -1.00 0.00</span></span>
<span><span class="co">#&gt; 32:       O2      1    90 -72  0.31 -0.95 0.00</span></span>
<span><span class="co">#&gt; 33:     EOGV     NA    NA  NA    NA    NA   NA</span></span>
<span><span class="co">#&gt; 34:     EOGH     NA    NA  NA    NA    NA   NA</span></span>
<span><span class="co">#&gt;     .channel radius theta phi    .x    .y   .z</span></span>
<span><span class="va">new_data</span> <span class="op">&lt;-</span> <span class="va">data_faces_10_trials</span></span>
<span><span class="fu"><a href="../reference/channels_tbl.html">channels_tbl</a></span><span class="op">(</span><span class="va">new_data</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/channels_tbl.html">channels_tbl</a></span><span class="op">(</span><span class="va">new_data</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>resolution <span class="op">=</span> <span class="fl">.1</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/channels_tbl.html">channels_tbl</a></span><span class="op">(</span><span class="va">new_data</span><span class="op">)</span></span>
<span><span class="co">#&gt;     .channel radius theta phi    .x    .y   .z resolution</span></span>
<span><span class="co">#&gt;  1:      Fp1      1   -90 -72 -0.31  0.95 0.00        0.1</span></span>
<span><span class="co">#&gt;  2:      Fpz      1    90  90  0.00  1.00 0.00        0.1</span></span>
<span><span class="co">#&gt;  3:      Fp2      1    90  72  0.31  0.95 0.00        0.1</span></span>
<span><span class="co">#&gt;  4:       F7      1   -90 -36 -0.81  0.59 0.00        0.1</span></span>
<span><span class="co">#&gt;  5:       F3      1   -60 -51 -0.55  0.67 0.50        0.1</span></span>
<span><span class="co">#&gt;  6:       Fz      1    45  90  0.00  0.71 0.71        0.1</span></span>
<span><span class="co">#&gt;  7:       F4      1    60  51  0.55  0.67 0.50        0.1</span></span>
<span><span class="co">#&gt;  8:       F8      1    90  36  0.81  0.59 0.00        0.1</span></span>
<span><span class="co">#&gt;  9:      FC5      1   -69 -21 -0.87  0.33 0.36        0.1</span></span>
<span><span class="co">#&gt; 10:      FC1      1   -31 -46 -0.36  0.37 0.86        0.1</span></span>
<span><span class="co">#&gt; 11:      FC2      1    31  46  0.36  0.37 0.86        0.1</span></span>
<span><span class="co">#&gt; 12:      FC6      1    69  21  0.87  0.33 0.36        0.1</span></span>
<span><span class="co">#&gt; 13:       M1      0     0   0    NA    NA   NA        0.1</span></span>
<span><span class="co">#&gt; 14:       T7      1   -90   0 -1.00  0.00 0.00        0.1</span></span>
<span><span class="co">#&gt; 15:       C3      1   -45   0 -0.71  0.00 0.71        0.1</span></span>
<span><span class="co">#&gt; 16:       Cz      1     0   0  0.00  0.00 1.00        0.1</span></span>
<span><span class="co">#&gt; 17:       C4      1    45   0  0.71  0.00 0.71        0.1</span></span>
<span><span class="co">#&gt; 18:       T8      1    90   0  1.00  0.00 0.00        0.1</span></span>
<span><span class="co">#&gt; 19:       M2      0     0   0    NA    NA   NA        0.1</span></span>
<span><span class="co">#&gt; 20:      CP5      1   -69  21 -0.87 -0.33 0.36        0.1</span></span>
<span><span class="co">#&gt; 21:      CP1      1   -31  46 -0.36 -0.37 0.86        0.1</span></span>
<span><span class="co">#&gt; 22:      CP2      1    31 -46  0.36 -0.37 0.86        0.1</span></span>
<span><span class="co">#&gt; 23:      CP6      1    69 -21  0.87 -0.33 0.36        0.1</span></span>
<span><span class="co">#&gt; 24:       P7      1   -90  36 -0.81 -0.59 0.00        0.1</span></span>
<span><span class="co">#&gt; 25:       P3      1   -60  51 -0.55 -0.67 0.50        0.1</span></span>
<span><span class="co">#&gt; 26:       Pz      1    45 -90  0.00 -0.71 0.71        0.1</span></span>
<span><span class="co">#&gt; 27:       P4      1    60 -51  0.55 -0.67 0.50        0.1</span></span>
<span><span class="co">#&gt; 28:       P8      1    90 -36  0.81 -0.59 0.00        0.1</span></span>
<span><span class="co">#&gt; 29:      POz      1    67 -90  0.00 -0.92 0.39        0.1</span></span>
<span><span class="co">#&gt; 30:       O1      1   -90  72 -0.31 -0.95 0.00        0.1</span></span>
<span><span class="co">#&gt; 31:       Oz      1    90 -90  0.00 -1.00 0.00        0.1</span></span>
<span><span class="co">#&gt; 32:       O2      1    90 -72  0.31 -0.95 0.00        0.1</span></span>
<span><span class="co">#&gt; 33:     EOGV     NA    NA  NA    NA    NA   NA        0.1</span></span>
<span><span class="co">#&gt; 34:     EOGH     NA    NA  NA    NA    NA   NA        0.1</span></span>
<span><span class="co">#&gt;     .channel radius theta phi    .x    .y   .z resolution</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/events_tbl.html">events_tbl</a></span><span class="op">(</span><span class="va">new_data</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;    .id        .type .description .initial .final .channel</span></span>
<span><span class="co">#&gt; 1:   1 Bad Interval  Bad Min-Max    15000  15128      FC6</span></span>
<span><span class="co">#&gt; 2:   1 Bad Interval  Bad Min-Max    15000  15146       F8</span></span>
<span><span class="co">#&gt; 3:   1 Bad Interval  Bad Min-Max    15000  15142      Fp1</span></span>
<span><span class="co">#&gt; 4:   1 Bad Interval  Bad Min-Max    15000  15132      Fp2</span></span>
<span><span class="co">#&gt; 5:   1 Bad Interval  Bad Min-Max    15000  15140      Fpz</span></span>
<span><span class="co">#&gt; 6:   1 Bad Interval  Bad Min-Max    15000  15114       F7</span></span>
<span><span class="fu"><a href="../reference/events_tbl.html">events_tbl</a></span><span class="op">(</span><span class="va">new_data</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/events_tbl.html">events_tbl</a></span><span class="op">(</span><span class="va">new_data</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">.description</span> <span class="op">!=</span> <span class="st">"s130"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/events_tbl.html">events_tbl</a></span><span class="op">(</span><span class="va">new_data</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;    .id        .type .description .initial .final .channel</span></span>
<span><span class="co">#&gt; 1:   1 Bad Interval  Bad Min-Max    15000  15128      FC6</span></span>
<span><span class="co">#&gt; 2:   1 Bad Interval  Bad Min-Max    15000  15146       F8</span></span>
<span><span class="co">#&gt; 3:   1 Bad Interval  Bad Min-Max    15000  15142      Fp1</span></span>
<span><span class="co">#&gt; 4:   1 Bad Interval  Bad Min-Max    15000  15132      Fp2</span></span>
<span><span class="co">#&gt; 5:   1 Bad Interval  Bad Min-Max    15000  15140      Fpz</span></span>
<span><span class="co">#&gt; 6:   1 Bad Interval  Bad Min-Max    15000  15114       F7</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="losing-the-channel-properties">Losing the channel properties<a class="anchor" aria-label="anchor" href="#losing-the-channel-properties"></a>
</h3>
<p>Some functions keep the channel properties, e.g., <code>mean</code>, <code>scale</code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="../reference/signal_tbl.html">signal_tbl</a></span><span class="op">(</span><span class="va">data_faces_10_trials</span><span class="op">)</span><span class="op">$</span><span class="va">Oz</span><span class="op">)</span></span>
<span><span class="co">#&gt; # radius: 1; theta: 90; phi: -90; .x: 0; .y: -1; .z: 0 </span></span>
<span><span class="co">#&gt; # Values </span></span>
<span><span class="co">#&gt; [1] -16.631485 -12.549113  -8.650514  -8.433714 -12.844979 -19.946123</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="fu"><a href="../reference/signal_tbl.html">signal_tbl</a></span><span class="op">(</span><span class="va">data_faces_10_trials</span><span class="op">)</span><span class="op">$</span><span class="va">Oz</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; # radius: 1; theta: 90; phi: -90; .x: 0; .y: -1; .z: 0 </span></span>
<span><span class="co">#&gt; # Values </span></span>
<span><span class="co">#&gt; [1] -0.7590534</span></span></code></pre></div>
<p>Some primitive functions remove the channel properties, e.g., <code>min</code>, <code>var</code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="fu"><a href="../reference/signal_tbl.html">signal_tbl</a></span><span class="op">(</span><span class="va">data_faces_10_trials</span><span class="op">)</span><span class="op">$</span><span class="va">Oz</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] -68.00181</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">var</a></span><span class="op">(</span><span class="fu"><a href="../reference/signal_tbl.html">signal_tbl</a></span><span class="op">(</span><span class="va">data_faces_10_trials</span><span class="op">)</span><span class="op">$</span><span class="va">Oz</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 107.7272</span></span></code></pre></div>
<p>A possible workaround is the following:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="fu"><a href="../reference/signal_tbl.html">signal_tbl</a></span><span class="op">(</span><span class="va">data_faces_10_trials</span><span class="op">)</span><span class="op">$</span><span class="va">Oz</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fl">0</span> <span class="op">*</span> <span class="fu"><a href="../reference/signal_tbl.html">signal_tbl</a></span><span class="op">(</span><span class="va">data_faces_10_trials</span><span class="op">)</span><span class="op">$</span><span class="va">Oz</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="co">#&gt; # radius: 1; theta: 90; phi: -90; .x: 0; .y: -1; .z: 0 </span></span>
<span><span class="co">#&gt; # Values </span></span>
<span><span class="co">#&gt; [1] -68.00181</span></span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="http://www.ling.uni-potsdam.de/~nicenboim/" class="external-link">Bruno Nicenboim</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  
</body>
</html>

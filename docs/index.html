<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A package for flexible manipulation of EEG data • eeguana</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="A package for flexible manipulation of EEG data">
<meta property="og:description" content="Flexible manipulation of EEG data.">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">eeguana</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.7.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/brainvision_files.html">Introduction - Manipulating a clean EEG file exported from BrainVision 2.0</a>
    </li>
    <li>
      <a href="articles/preprocessing_erp.html">Preprocessing of EEG data and computing ERPs (Fieldtrip tutorial)</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/bnicenboim/eeguana">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    

<div id="eeguana" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#eeguana" class="anchor"></a>eeguana <img src="reference/figures/logo.png" align="right" height="140/">
</h1></div>
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>A package for flexible manipulation of EEG data. <em>eeguana</em> provides a <em>data.table</em> powered framework for manipulating EEG data with <em>dplyr</em>-based functions (e.g., <code>mutate</code>, <code>filter</code>, <code>summarize</code>) extended to a new class <code>eeg_lst</code>, other EEG-specialized functions, and <code>ggplot</code> wrapper functions. The new class is inspired by tidyverse principles but it’s not really “tidy” (due to space considerations), it’s a list of (i) a wide <em>data table</em> (<code>signal_tbl</code>) that contains the signal amplitudes at every sample point of the EEG, (ii) an events <em>data table</em> with information about markers (or triggers), blinks and other exported information, and (iii) a long table with experimental information, such as participant number (<code>recording</code>), conditions, etc.</p>
<p><em>eeguana</em> cannot do much pre-processing for now, but I plan to incorporate pre-processing functions with time, and thus it is meant to be used on EEG files where filtering, artifact rejection, ICA, etc have already been done.</p>
<p>See <a href="https://bnicenboim.github.io/eeguana/reference/index.html">Reference</a> for more information about the functions of <em>eeguana</em>.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>There is still <strong>no</strong> released version of <em>eeguana</em>. The package is in the early stages of development, and it <strong>will</strong> be subject to a lot of changes. To install the latest version from github use:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"bnicenboim/eeguana"</span>)</code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>Here, I exemplify the use of <em>eeguana</em> with (pre-processed) EEG data from BrainVision 2.0. The data belong to a simple experiment where a participant was presented 100 faces and 100 assorted images in random order. The task of the experiment was to mentally count the number of faces.</p>
<p>First we download the data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/download.file">download.file</a></span>(<span class="st">"https://www.ling.uni-potsdam.de/~nicenboim/files/faces.vhdr"</span>, 
              <span class="st">"faces.vhdr"</span>, <span class="dt">mode=</span><span class="st">"wb"</span>)
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/download.file">download.file</a></span>(<span class="st">"https://www.ling.uni-potsdam.de/~nicenboim/files/faces.vmrk"</span>, 
              <span class="st">"faces.vmrk"</span>, <span class="dt">mode=</span><span class="st">"wb"</span>)
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/download.file">download.file</a></span>(<span class="st">"https://www.ling.uni-potsdam.de/~nicenboim/files/faces.dat"</span>, 
              <span class="st">"faces.dat"</span>, <span class="dt">mode=</span><span class="st">"wb"</span>)</code></pre></div>
<p>BrainVision 2.0 exports three files: <code>faces.vhdr</code>, <code>faces.vmrk</code>, and <code>faces.dat</code>. The file <code>faces.vhdr</code> contains the metadata and links to the other two files, <code>faces.vmrk</code> contains the triggers and other events in the samples, and <code>faces.dat</code> contains the signals at every sample for every channel recorded.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(eeguana)
<span class="co">#&gt; Warning: package 'dplyr' was built under R version 3.5.3</span></code></pre></div>
<p>We first need to read the data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">faces &lt;-<span class="st"> </span><span class="kw">read_vhdr</span>(<span class="st">"faces.vhdr"</span>)
<span class="co">#&gt; # Data from faces.dat was read.</span>
<span class="co">#&gt; # Data from 1 segment(s) and 34 channels was loaded.</span>
<span class="co">#&gt; # Object size in memory 140.5 Mb</span></code></pre></div>
<p>The function <code>read_vhdr()</code> creates a list with data frames for the signal, events, segments information, and incorporates in its attributes generic EEG information.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">faces
<span class="co">#&gt; $signal</span>
<span class="co">#&gt;         .id .sample_id        Fp1        Fpz        Fp2         F7</span>
<span class="co">#&gt;      1:   1          1  -4.270188 -12.496757  -8.512611  5.8104863</span>
<span class="co">#&gt;      2:   1          2  -5.986778 -11.261559  -8.302858  4.4670320</span>
<span class="co">#&gt;      3:   1          3  -6.580773  -9.333183  -7.679757  3.7081127</span>
<span class="co">#&gt;      4:   1          4  -5.896090  -6.184696  -6.079263  3.9488502</span>
<span class="co">#&gt;      5:   1          5  -5.349657  -2.581047  -3.960115  4.6228004</span>
<span class="co">#&gt;     ---                                                           </span>
<span class="co">#&gt; 525203:   1     525203 -19.180754 -14.482754 -11.880928 -3.0353870</span>
<span class="co">#&gt; 525204:   1     525204 -14.669420 -10.800195  -7.822333 -0.2864416</span>
<span class="co">#&gt; 525205:   1     525205 -10.086312  -7.376223  -4.007497  2.3745189</span>
<span class="co">#&gt; 525206:   1     525206  -5.963717  -6.318047  -2.550068  4.0785899</span>
<span class="co">#&gt; 525207:   1     525207  -2.811746  -9.569276  -5.257495  3.9431772</span>
<span class="co">#&gt;                 F3         Fz        F4          F8        FC5       FC1</span>
<span class="co">#&gt;      1:  0.7987084 -3.7944875 -7.004565  -9.5905457 -5.5008502 -1.040939</span>
<span class="co">#&gt;      2: -0.4558482 -3.9204431 -7.312232 -10.1968956 -8.2559958 -1.625572</span>
<span class="co">#&gt;      3: -1.8434987 -3.6854007 -7.325179 -10.5801353 -8.9441166 -2.496611</span>
<span class="co">#&gt;      4: -2.6274934 -2.2696950 -6.544898 -10.5005941 -5.3551817 -3.275798</span>
<span class="co">#&gt;      5: -2.9634132 -0.1724038 -5.449733 -10.2940083 -0.5347631 -3.816769</span>
<span class="co">#&gt;     ---                                                                 </span>
<span class="co">#&gt; 525203: -3.5060143 -5.1268702 -3.885933   1.3387113 -6.0354300 -3.429955</span>
<span class="co">#&gt; 525204: -2.9062314 -4.6610451 -3.474034   0.5267539 -5.6796050 -3.269526</span>
<span class="co">#&gt; 525205: -2.2934551 -3.9615459 -2.554780  -0.1948199 -5.2791243 -2.709156</span>
<span class="co">#&gt; 525206: -2.8591332 -4.5113835 -2.396278  -0.8776174 -5.5155010 -2.732390</span>
<span class="co">#&gt; 525207: -4.7773180 -7.2133980 -4.015337  -1.6118808 -7.1379128 -3.719297</span>
<span class="co">#&gt;               FC2       FC6         M1         T7        C3        Cz</span>
<span class="co">#&gt;      1: -5.750594 -9.455340  3.2116241 -2.5749669 -3.198639 -7.162738</span>
<span class="co">#&gt;      2: -6.205832 -9.701509  1.5566816 -2.1688442 -3.223826 -7.327467</span>
<span class="co">#&gt;      3: -6.225702 -9.615817  0.4754019 -1.5235398 -4.196370 -7.618096</span>
<span class="co">#&gt;      4: -5.792281 -8.781445 -0.3485098 -0.1197605 -6.155464 -7.683692</span>
<span class="co">#&gt;      5: -5.539208 -7.758235 -1.6416440  1.5852079 -8.072474 -7.589663</span>
<span class="co">#&gt;     ---                                                              </span>
<span class="co">#&gt; 525203: -1.821500 -1.574225 -3.9028225 -9.0984344 -2.281207 -1.244156</span>
<span class="co">#&gt; 525204: -1.967095 -2.711437 -1.4479842 -8.1386690 -1.984105 -1.888554</span>
<span class="co">#&gt; 525205: -1.333362 -3.477794  0.6584158 -7.0688133 -1.378137 -2.078016</span>
<span class="co">#&gt; 525206: -1.006990 -4.265026  2.0143995 -6.4578338 -1.488095 -2.738976</span>
<span class="co">#&gt; 525207: -1.199275 -6.290535  3.4945364 -7.3460751 -2.911523 -4.274473</span>
<span class="co">#&gt;                 C4        T8         M2       CP5       CP1        CP2</span>
<span class="co">#&gt;      1: -6.0244598 -4.771918 -3.2116241 -6.062939 -4.813977 -5.0018249</span>
<span class="co">#&gt;      2: -4.7359419 -3.939853 -1.5566816 -5.505422 -4.283286 -3.9824409</span>
<span class="co">#&gt;      3: -3.2705278 -3.285263 -0.4754019 -5.300730 -4.089828 -2.8778281</span>
<span class="co">#&gt;      4: -1.2953618 -2.399213  0.3485098 -5.378413 -4.206456 -1.4029371</span>
<span class="co">#&gt;      5:  0.9121451 -1.056782  1.6416440 -5.488734 -4.434868  0.3268354</span>
<span class="co">#&gt;     ---                                                               </span>
<span class="co">#&gt; 525203: -2.6202018 -3.093663  3.9028225 -8.155416 -3.549603 -3.7856157</span>
<span class="co">#&gt; 525204: -3.1423230 -2.935883  1.4479842 -6.898589 -3.393985 -4.0930557</span>
<span class="co">#&gt; 525205: -2.8522072 -3.875237 -0.6584158 -5.362293 -2.832092 -3.8660426</span>
<span class="co">#&gt; 525206: -3.3436871 -4.052106 -2.0143995 -4.340692 -2.890889 -4.3359194</span>
<span class="co">#&gt; 525207: -5.8495107 -4.504183 -3.4945364 -4.906254 -4.134459 -6.3578181</span>
<span class="co">#&gt;                CP6           P7        P3        Pz         P4         P8</span>
<span class="co">#&gt;      1: -8.6002913  -6.72501945 -7.823194 -9.713374 -10.933434 -4.1939182</span>
<span class="co">#&gt;      2: -6.4684544  -4.19162369 -6.248482 -8.652735  -8.811299 -2.4914169</span>
<span class="co">#&gt;      3: -4.4623995  -1.97165060 -4.997821 -7.685406  -6.668526 -1.0310369</span>
<span class="co">#&gt;      4: -2.4144411  -0.09873655 -3.947244 -6.593503  -4.320339  0.6503686</span>
<span class="co">#&gt;      5: -0.1063155   1.68736827 -2.843956 -5.372189  -1.687156  2.8481901</span>
<span class="co">#&gt;     ---                                                                  </span>
<span class="co">#&gt; 525203: -1.9837997 -17.43293571 -7.778884 -3.405085  -1.660518 -4.3979721</span>
<span class="co">#&gt; 525204: -3.5452051 -14.93541336 -6.817270 -4.063128  -2.827326 -5.3324118</span>
<span class="co">#&gt; 525205: -4.0679202 -12.36065578 -5.574656 -4.185033  -3.481713 -6.1155925</span>
<span class="co">#&gt; 525206: -4.9113569 -10.60478783 -5.109689 -4.693735  -4.598518 -7.1271410</span>
<span class="co">#&gt; 525207: -7.4022784 -11.30642700 -6.548401 -6.205623  -6.893994 -9.2952871</span>
<span class="co">#&gt;                POz         O1          Oz         O2       EOGV      EOGH</span>
<span class="co">#&gt;      1: -13.021215  -7.650791  -8.6958437  -8.901768 36.3205566  20.61859</span>
<span class="co">#&gt;      2: -10.943350  -3.840688  -5.8336391  -6.211349 39.7541809  25.55089</span>
<span class="co">#&gt;      3:  -8.963390  -0.550869  -3.2353799  -3.810405 42.1534882  29.02995</span>
<span class="co">#&gt;      4:  -6.857091   2.178792  -0.7047617  -1.321697 44.8317413  30.14127</span>
<span class="co">#&gt;      5:  -4.618455   4.996092   2.2072635   1.650699 49.1988983  29.85255</span>
<span class="co">#&gt;     ---                                                                  </span>
<span class="co">#&gt; 525203:  -7.370723 -17.387997 -13.6087084 -10.443031  0.8650103 -12.82597</span>
<span class="co">#&gt; 525204:  -7.889754 -15.422725 -14.4835081 -12.536522 -0.9290609 -14.95488</span>
<span class="co">#&gt; 525205:  -7.927995 -13.746743 -15.2129507 -14.059873 -1.9016356 -14.81808</span>
<span class="co">#&gt; 525206:  -8.352034 -13.172369 -16.1580162 -15.562737 -3.9798355 -12.73059</span>
<span class="co">#&gt; 525207:  -9.975165 -14.335607 -17.8692055 -17.643250 -9.1380615 -12.55048</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $events</span>
<span class="co">#&gt;       .id         type description .initial .final .channel</span>
<span class="co">#&gt;    1:   1  New Segment                    1      1     &lt;NA&gt;</span>
<span class="co">#&gt;    2:   1 Bad Interval Bad Min-Max     2158   2895      Fp1</span>
<span class="co">#&gt;    3:   1 Bad Interval Bad Min-Max     2161   2891      Fp2</span>
<span class="co">#&gt;    4:   1 Bad Interval Bad Min-Max     2162   2890      Fpz</span>
<span class="co">#&gt;    5:   1 Bad Interval Bad Min-Max     2173   2861       F8</span>
<span class="co">#&gt;   ---                                                      </span>
<span class="co">#&gt; 4272:   1 Bad Interval Bad Min-Max   524692 524895       P8</span>
<span class="co">#&gt; 4273:   1 Bad Interval Bad Min-Max   524725 524992      FC5</span>
<span class="co">#&gt; 4274:   1 Bad Interval Bad Min-Max   524777 525122       P7</span>
<span class="co">#&gt; 4275:   1 Bad Interval Bad Min-Max   524983 525155       Cz</span>
<span class="co">#&gt; 4276:   1 Bad Interval Bad Min-Max   525073 525207       O2</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $segments</span>
<span class="co">#&gt; # A tibble: 1 x 3</span>
<span class="co">#&gt;     .id recording  segment</span>
<span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;        &lt;int&gt;</span>
<span class="co">#&gt; 1     1 faces.vhdr       1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; attr(,"class")</span>
<span class="co">#&gt; [1] "eeg_lst"</span>
<span class="co">#&gt; attr(,"vars")</span>
<span class="co">#&gt; character(0)</span></code></pre></div>
<p>Some intervals were marked as “bad” by BrainVision, and so we’ll remove them from the data. We’ll also segment and baseline the data. In this experiment, the trigger “s70” was used for faces and “s71” for no faces. We’ll segment the data using these two triggers.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">faces_segs &lt;-<span class="st"> </span>faces <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">               </span><span class="kw">eeg_segment</span>(description <span class="op">%in%</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"s70"</span>, <span class="st">"s71"</span>), 
                        <span class="dt">lim =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="op">-</span>.<span class="dv">2</span>,.<span class="dv">25</span>)) <span class="op">%&gt;%</span>
<span class="st">               </span><span class="kw">eeg_intervals_to_NA</span>(type <span class="op">==</span><span class="st"> "Bad Interval"</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">               </span><span class="kw">ch_baseline</span>()
<span class="co">#&gt; # Total of 200 segments found.</span>
<span class="co">#&gt; # Object size in memory 12.2 Mb after segmentation.</span>
<span class="co">#&gt; Warning: 'eeg_intervals_to_NA' is deprecated.</span>
<span class="co">#&gt; Use 'eeg_events_to_NA' instead.</span>
<span class="co">#&gt; See help("Deprecated")</span></code></pre></div>
<p>We can also edit the segmentation information and add more descriptive labels. <em>eeguana</em> has wrappers for many <code>dplyr</code> commands for the EEG data. These commands always return an entire <code>eeg_lst</code> object so that they can be piped using <code>magrittr</code>’s pipe, <code>%&gt;%</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">faces_segs_some &lt;-<span class="st"> </span>faces_segs <span class="op">%&gt;%</span><span class="st">  </span>
<span class="st">                  </span><span class="kw">mutate</span>(<span class="dt">condition =</span>
                  <span class="kw">if_else</span>(description <span class="op">==</span><span class="st"> "s70"</span>, <span class="st">"faces"</span>, <span class="st">"non-faces"</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">                  </span><span class="kw">select</span>(<span class="op">-</span>type)

faces_segs_some
<span class="co">#&gt; $signal</span>
<span class="co">#&gt;        .id .sample_id      Fp1      Fpz       Fp2        F7        F3</span>
<span class="co">#&gt;     1:   1        -99 3.000602 3.822540  1.676837  5.345215  8.526904</span>
<span class="co">#&gt;     2:   1        -98 4.651500 5.966759  2.899244  6.229248 11.957867</span>
<span class="co">#&gt;     3:   1        -97 5.636973 7.734169  3.360790  6.146507 12.643122</span>
<span class="co">#&gt;     4:   1        -96 4.887103 7.093736  1.560090  4.679008 10.153717</span>
<span class="co">#&gt;     5:   1        -95 1.679875 3.586631 -2.115480  1.817395  6.471601</span>
<span class="co">#&gt;    ---                                                               </span>
<span class="co">#&gt; 45196: 200        122       NA       NA        NA -6.226833 -6.164627</span>
<span class="co">#&gt; 45197: 200        123       NA       NA        NA -7.609634 -6.624886</span>
<span class="co">#&gt; 45198: 200        124       NA       NA        NA -8.355278 -7.320350</span>
<span class="co">#&gt; 45199: 200        125       NA       NA        NA -8.419843 -8.317026</span>
<span class="co">#&gt; 45200: 200        126       NA       NA        NA -8.219583 -9.290400</span>
<span class="co">#&gt;               Fz        F4         F8        FC5       FC1       FC2</span>
<span class="co">#&gt;     1:  4.730365  3.188497 -0.1089175  -3.644006  7.912477  3.989274</span>
<span class="co">#&gt;     2:  6.160355  3.994015 -0.8760965   1.023301  9.416551  4.667467</span>
<span class="co">#&gt;     3:  7.125668  4.267825 -2.2046354   7.279726  9.103708  5.293130</span>
<span class="co">#&gt;     4:  6.335395  3.259394 -3.9267309  10.369022  7.112526  4.947480</span>
<span class="co">#&gt;     5:  4.633891  1.394350 -5.1243312  10.296667  4.968021  4.046026</span>
<span class="co">#&gt;    ---                                                              </span>
<span class="co">#&gt; 45196: -8.134506 -6.909568 -0.8537389  -9.798989 -7.777216 -9.401660</span>
<span class="co">#&gt; 45197: -8.577490 -7.793821 -0.9486715 -10.705381 -8.119785 -9.315678</span>
<span class="co">#&gt; 45198: -8.860150 -8.050289 -0.5816752 -11.125468 -8.373542 -9.178003</span>
<span class="co">#&gt; 45199: -9.056007 -7.632708  0.1328152 -10.956071 -8.740564 -9.007817</span>
<span class="co">#&gt; 45200: -9.426888 -7.286663  0.5260323 -10.897510 -9.636951 -8.939460</span>
<span class="co">#&gt;              FC6         M1        T7        C3         Cz          C4</span>
<span class="co">#&gt;     1:  1.272626  0.2677516 -3.057617 10.609308   5.917813   0.8313377</span>
<span class="co">#&gt;     2:  3.301379 -0.2832003 -1.562383 12.928541   6.262912   1.0666051</span>
<span class="co">#&gt;     3:  3.712586 -0.7368386  1.504318 11.542353   5.948693   1.9167381</span>
<span class="co">#&gt;     4:  1.836436 -0.8240938  5.022166  7.915255   4.986212   2.8912187</span>
<span class="co">#&gt;     5: -1.199115 -0.6874469  6.427537  4.484360   4.172830   3.3982225</span>
<span class="co">#&gt;    ---                                                                </span>
<span class="co">#&gt; 45196: -6.067313 -6.4766435 -8.022766 -6.429070 -10.872999  -8.3944751</span>
<span class="co">#&gt; 45197: -7.353704 -6.6995262 -8.829075 -7.358996 -10.609312  -9.2848460</span>
<span class="co">#&gt; 45198: -8.296130 -6.9813064 -9.287003 -8.015747 -10.252135  -9.7955848</span>
<span class="co">#&gt; 45199: -8.350711 -7.0623969 -9.304779 -8.464732  -9.964297  -9.9221298</span>
<span class="co">#&gt; 45200: -7.994563 -7.0156692 -9.483838 -9.494273 -10.028708 -10.5967504</span>
<span class="co">#&gt;                T8         M2       CP5        CP1       CP2       CP6</span>
<span class="co">#&gt;     1: -10.315272 -0.2677516  1.964691  6.7162759  3.262704 -7.399092</span>
<span class="co">#&gt;     2: -10.356676  0.2832003  4.404590  7.4449489  3.293858 -5.744716</span>
<span class="co">#&gt;     3: -11.298820  0.7368386  5.582302  7.1147640  3.475278 -3.493423</span>
<span class="co">#&gt;     4: -11.997029  0.8240938  5.430152  6.1576960  3.890801 -1.759528</span>
<span class="co">#&gt;     5: -12.559875  0.6874469  4.314408  5.2338812  4.307086 -1.050894</span>
<span class="co">#&gt;    ---                                                               </span>
<span class="co">#&gt; 45196:  -3.502227  6.4766435 -1.349851 -0.4762376 -5.722418 -3.533263</span>
<span class="co">#&gt; 45197:  -4.407707  6.6995262 -3.101862 -1.1596463 -6.534246 -4.621159</span>
<span class="co">#&gt; 45198:  -4.839347  6.9813064 -4.486185 -1.7303489 -6.932361 -5.494592</span>
<span class="co">#&gt; 45199:  -4.811365  7.0623969 -5.391058 -2.1837558 -7.031692 -6.007089</span>
<span class="co">#&gt; 45200:  -4.864176  7.0156692 -6.672053 -3.0703575 -7.622055 -6.492426</span>
<span class="co">#&gt;               P7         P3        Pz         P4         P8        POz</span>
<span class="co">#&gt;     1: -5.496809  2.0440808  4.166571 -0.0616881 -8.3880332 -0.3286116</span>
<span class="co">#&gt;     2: -2.861829  3.2697255  4.204710  0.5590584 -6.7958000  0.3093608</span>
<span class="co">#&gt;     3:  1.280905  4.4449736  4.435450  1.7226454 -4.7219687  1.9620757</span>
<span class="co">#&gt;     4:  5.945641  5.2879867  4.639458  2.7629569 -3.0705338  3.7967925</span>
<span class="co">#&gt;     5:  8.049101  5.4885453  4.919482  3.4599713 -1.9033555  5.3241937</span>
<span class="co">#&gt;    ---                                                                </span>
<span class="co">#&gt; 45196:  2.242977  0.7155832 -4.610498 -3.9528958  1.4214111 -4.3255999</span>
<span class="co">#&gt; 45197: -0.126445 -0.6689793 -5.037940 -4.7200541  0.7046986 -4.7982240</span>
<span class="co">#&gt; 45198: -2.238547 -1.8152691 -5.363847 -5.5482372 -0.2055778 -5.3792999</span>
<span class="co">#&gt; 45199: -3.761132 -2.4688984 -5.509579 -6.1985716 -1.2616262 -5.9168708</span>
<span class="co">#&gt; 45200: -5.677335 -3.4514109 -5.946858 -6.8952164 -1.9542868 -6.5737116</span>
<span class="co">#&gt;                O1        Oz         O2       EOGV      EOGH</span>
<span class="co">#&gt;     1: -6.0260374 -5.461096 -4.2778666   6.783448  2.078419</span>
<span class="co">#&gt;     2: -2.6993167 -2.760820 -2.2311228   6.625389  4.423636</span>
<span class="co">#&gt;     3:  1.8627557  1.137758  0.7749981   7.371072  6.663611</span>
<span class="co">#&gt;     4:  5.8118551  4.439274  3.4188545   9.326947  8.364970</span>
<span class="co">#&gt;     5:  8.0964449  6.621065  5.8291734  11.692706  9.205865</span>
<span class="co">#&gt;    ---                                                     </span>
<span class="co">#&gt; 45196: -0.5402464 -4.114951 -0.3463787  -8.905102 18.196424</span>
<span class="co">#&gt; 45197: -0.8443795 -3.887248 -0.4495586  -9.181591 17.637968</span>
<span class="co">#&gt; 45198: -2.0916432 -4.558462 -1.1659049  -8.742321 17.773702</span>
<span class="co">#&gt; 45199: -4.1249534 -6.119560 -2.5120736  -9.108685 17.002721</span>
<span class="co">#&gt; 45200: -6.4350015 -7.568655 -3.5681661 -10.735058 15.214422</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $events</span>
<span class="co">#&gt;      .id     type description .initial .final .channel</span>
<span class="co">#&gt;   1:   1 Stimulus         s70        1      1     &lt;NA&gt;</span>
<span class="co">#&gt;   2:   2 Stimulus         s71        1      1     &lt;NA&gt;</span>
<span class="co">#&gt;   3:   3 Stimulus         s71        1      1     &lt;NA&gt;</span>
<span class="co">#&gt;   4:   4 Stimulus         s71        1      1     &lt;NA&gt;</span>
<span class="co">#&gt;   5:   5 Stimulus         s70        1      1     &lt;NA&gt;</span>
<span class="co">#&gt;  ---                                                  </span>
<span class="co">#&gt; 196: 196 Stimulus         s71        1      1     &lt;NA&gt;</span>
<span class="co">#&gt; 197: 197 Stimulus         s70        1      1     &lt;NA&gt;</span>
<span class="co">#&gt; 198: 198 Stimulus         s70        1      1     &lt;NA&gt;</span>
<span class="co">#&gt; 199: 199 Stimulus         s70        1      1     &lt;NA&gt;</span>
<span class="co">#&gt; 200: 200 Stimulus         s70        1      1     &lt;NA&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $segments</span>
<span class="co">#&gt; # A tibble: 200 x 5</span>
<span class="co">#&gt;      .id recording  segment description condition</span>
<span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;        &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;    </span>
<span class="co">#&gt;  1     1 faces.vhdr       1 s70         faces    </span>
<span class="co">#&gt;  2     2 faces.vhdr       2 s71         non-faces</span>
<span class="co">#&gt;  3     3 faces.vhdr       3 s71         non-faces</span>
<span class="co">#&gt;  4     4 faces.vhdr       4 s71         non-faces</span>
<span class="co">#&gt;  5     5 faces.vhdr       5 s70         faces    </span>
<span class="co">#&gt;  6     6 faces.vhdr       6 s71         non-faces</span>
<span class="co">#&gt;  7     7 faces.vhdr       7 s71         non-faces</span>
<span class="co">#&gt;  8     8 faces.vhdr       8 s70         faces    </span>
<span class="co">#&gt;  9     9 faces.vhdr       9 s70         faces    </span>
<span class="co">#&gt; 10    10 faces.vhdr      10 s70         faces    </span>
<span class="co">#&gt; # ... with 190 more rows</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; attr(,"class")</span>
<span class="co">#&gt; [1] "eeg_lst"</span>
<span class="co">#&gt; attr(,"vars")</span>
<span class="co">#&gt; character(0)</span></code></pre></div>
<p>With some “regular” <code>ggplot</code> skills, we can create customized plots. <code>plot_gg()</code> downsamples the signals (by default), and converts them to a long-format data frame that is feed into <code>ggplot</code> object. This object can then be customized.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">faces_segs_some <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">                  </span><span class="kw">select</span>(O1, O2, P7, P8) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">                  </span><span class="kw">plot_gg</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">                  </span><span class="kw">geom_line</span>(<span class="dt">alpha =</span> .<span class="dv">1</span>, <span class="kw">aes</span>(<span class="dt">group =</span> .id, <span class="dt">color =</span> condition)) <span class="op">+</span><span class="st"> </span>
<span class="st">                  </span><span class="kw">stat_summary</span>(<span class="dt">fun.y =</span> <span class="st">"mean"</span>, <span class="dt">geom =</span><span class="st">"line"</span>, <span class="dt">alpha =</span> <span class="dv">1</span>, <span class="dt">size =</span> <span class="fl">1.5</span>, 
                  <span class="kw">aes</span>(<span class="dt">color =</span> condition)) <span class="op">+</span>
<span class="st">                  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>.source) <span class="op">+</span><span class="st"> </span>
<span class="st">                  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="dv">0</span>, <span class="dt">linetype =</span> <span class="st">"dashed"</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">                  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> .<span class="dv">17</span>, <span class="dt">linetype =</span> <span class="st">"dotted"</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">                  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">"bottom"</span>) </code></pre></div>
<p><img src="reference/figures/README-plot-1.png" width="100%"></p>
<p>Another possibility is to create a topographic plot of the two conditions, by first making segments that include only the interval .1-.2 <em>s</em> after the onset of the stimuli, creating a table with interpolated amplitudes and using the ggplot wrapper <code>plot_topo</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">faces_segs_some <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/filter">filter</a></span>(<span class="kw">between</span>(<span class="kw">as_time</span>(.sample_id, <span class="dt">unit =</span> <span class="st">"milliseconds"</span>),<span class="dv">100</span>,<span class="dv">200</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">                    </span><span class="kw">group_by</span>(condition) <span class="op">%&gt;%</span>
<span class="st">                    </span><span class="kw">summarize_all_ch</span>(mean, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span>
<span class="st">                    </span><span class="kw">plot_topo</span>() <span class="op">+</span>
<span class="st">                    </span><span class="kw">annotate_head</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">                    </span><span class="kw">geom_contour</span>() <span class="op">+</span>
<span class="st">                    </span><span class="kw">geom_text</span>(<span class="dt">colour =</span> <span class="st">"black"</span>) <span class="op">+</span>
<span class="st">                    </span><span class="kw">facet_grid</span>(<span class="op">~</span>condition)</code></pre></div>
<p><img src="reference/figures/README-topo-1.png" width="100%"></p>
</div>
<div id="see-also" class="section level2">
<h2 class="hasAnchor">
<a href="#see-also" class="anchor"></a>See also</h2>
<p>Other packages for EEG/ERP data:</p>
<ul>
<li>
<a href="https://github.com/craddm/eegUtils">eegUtils</a> some helper utilities for plotting and processing EEG data in active development by Matt Craddock.</li>
<li>
<a href="https://cran.r-project.org/web/packages/erpR/index.html">erpR</a> analysis of event-related potentials (ERPs) by Giorgio Arcara, Anna Petrova. It hasn’t been updated since 2014.</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/bnicenboim/eeguana">https://​github.com/​bnicenboim/​eeguana</a>
</li>
<li>Report a bug at <br><a href="https://github.com/bnicenboim/eeguana/issues">https://​github.com/​bnicenboim/​eeguana/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing eeguana</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="http://www.ling.uni-potsdam.de/~nicenboim/">Bruno Nicenboim</a> <br><small class="roles"> Author, maintainer </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/bnicenboim/eeguana"><img src="https://travis-ci.org/bnicenboim/eeguana.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://codecov.io/gh/bnicenboim/eeguana?branch=master"><img src="https://codecov.io/gh/bnicenboim/eeguana/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://ci.appveyor.com/project/bnicenboim/eeguana"><img src="https://ci.appveyor.com/api/projects/status/github/bnicenboim/eeguana?branch=master&amp;svg=true" alt="AppVeyor build status"></a></li>
<li><a href="https://zenodo.org/badge/latestdoi/153299577"><img src="https://zenodo.org/badge/153299577.svg" alt="DOI"></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="lifecycle"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="http://www.ling.uni-potsdam.de/~nicenboim/">Bruno Nicenboim</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
